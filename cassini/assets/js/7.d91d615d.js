(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{169:function(e,t,s){"use strict";s.r(t);var r=s(0),n=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("h3",{attrs:{id:"config-file-about-etcd"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#config-file-about-etcd","aria-hidden":"true"}},[e._v("#")]),e._v(" Config file about ETCD")]),e._v(" "),s("p",[e._v("Config sample:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('{\n    ......\n\n    "embedEtcd":true,\n    "etcd":{\n        "name": "testA",\n        "advertise":"http://127.0.0.1:2379",\n        "advertisePeer":"http://127.0.0.1:2380",\n        "clusterToken":"test-cassini-cluster",\n        "cluster":"testA=http://127.0.0.1:2380"\n    },\n    "useEtcd":true,\n    "lock":"etcd://127.0.0.1:2379"\n    \n    ......\n}\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br")])]),s("p",[e._v("The related configuration of distributed locks is divided into two parts:\nlock client and embedded etcd server.")]),e._v(" "),s("p",[e._v("Clients are used to invoke distributed locks to implement code logic.")]),e._v(" "),s("p",[e._v("Embedded server is designed to simplify the complexity of a standalone deployment ETCD cluster.")]),e._v(" "),s("h3",{attrs:{id:"lock-client"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lock-client","aria-hidden":"true"}},[e._v("#")]),e._v(" Lock client")]),e._v(" "),s("p",[e._v("useEtcd:")]),e._v(" "),s("blockquote",[s("p",[e._v("Whether to use etcd lock or not,"),s("br"),e._v("\nDefault: false"),s("br"),e._v("\n- Do not use etcd distributed lock")])]),e._v(" "),s("p",[e._v("lock:")]),e._v(" "),s("blockquote",[s("p",[e._v("Config the lock client,"),s("br"),e._v('\nDefault: ""'),s("br"),e._v("\n- Do not use etcd lock."),s("br"),e._v('\nExample: "etcd://192.168.1.100:2379,192.168.1.101:2379,192.168.1.102:2379"'),s("br"),e._v("\n- Access to the ETCD cluster through the specified three addresses and ports.")])]),e._v(" "),s("p",[e._v("lockTTL:")]),e._v(" "),s("blockquote",[s("p",[e._v("Timeout for lock,"),s("br"),e._v("\nDefault: 5"),s("br"),e._v("\n- When a session is lost to the etcd, the lock is automatically unlocked after 5 seconds.")])]),e._v(" "),s("h3",{attrs:{id:"embedded-etcd-server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#embedded-etcd-server","aria-hidden":"true"}},[e._v("#")]),e._v(" Embedded etcd server")]),e._v(" "),s("p",[e._v("name:")]),e._v(" "),s("blockquote",[s("p",[e._v("Human-readable name for this member."),s("br"),e._v("\nDefault: 'default'"),s("br"),e._v("\nETCD server config: --name 'default'")])]),e._v(" "),s("p",[e._v("advertise:")]),e._v(" "),s("blockquote",[s("p",[e._v("List of this member's client URLs to advertise to the public.\nThis config is use to provide ETCD service."),s("br"),e._v("\nThe client URLs advertised should be accessible to machines"),s("br"),e._v("\nthat talk to etcd cluster. etcd client libraries parse"),s("br"),e._v("\nthese URLs to connect to the cluster."),s("br"),e._v('\nDefault: ""'),s("br"),e._v("\n- advertise must be set."),s("br"),e._v('\nExample: "http://192.168.1.100:2379"'),s("br"),e._v("\n- Embedded etcd server will publish the address to the client."),s("br"),e._v("\nETCD server config: --advertise-client-urls http://192.168.1.100:2379")])]),e._v(" "),s("p",[e._v("listen:")]),e._v(" "),s("blockquote",[s("p",[e._v("List of URLs to listen on for client traffic.\nThis config is use to provide ETCD service."),s("br"),e._v("\nDefault: Using advertise's setting."),s("br"),e._v('\nExample: "http://0.0.0.0:2379"'),s("br"),e._v("\n- Embedded etcd server will listen on the address."),s("br"),e._v("\nETCD server config: --listen-client-urls 'http://0.0.0.0:2379'")])]),e._v(" "),s("p",[e._v("advertisePeer:")]),e._v(" "),s("blockquote",[s("p",[e._v("List of this member's peer URLs to advertise to the rest of the cluster.\nThis config is use to build ETCD cluster network."),s("br"),e._v('\nDefault: ""'),s("br"),e._v("\n- advertisePeer must be set."),s("br"),e._v('\nExample: "http://192.168.1.100:2380"'),s("br"),e._v("\n- Embedded etcd server will publish the address to the other peers."),s("br"),e._v("\nETCD server config: --initial-advertise-peer-urls http://localhost:2380")])]),e._v(" "),s("p",[e._v("listenPeerï¼š")]),e._v(" "),s("blockquote",[s("p",[e._v("List of URLs to listen on for peer traffic."),s("br"),e._v("\nDefault: Using advertisePeer's setting"),s("br"),e._v('\nExample: "http://192.168.1.100:2380"'),s("br"),e._v("\n- Embedded etcd server will listen on the address for the other peer's connections."),s("br"),e._v("\nETCD server config: --listen-peer-urls 'http://192.168.1.100:2380'")])]),e._v(" "),s("p",[e._v("clusterToken:")]),e._v(" "),s("blockquote",[s("p",[e._v("Initial cluster token for the etcd cluster during bootstrap."),s("br"),e._v("\nSpecifying this can protect you from unintended cross-cluster"),s("br"),e._v("\ninteraction when running multiple clusters."),s("br"),e._v('\nDefault: "etcd-cluster"'),s("br"),e._v("\n- Peers in the same cluster must be configured with the same cluster token."),s("br"),e._v("\nETCD server config: --initial-cluster-token etcd-cluster")])]),e._v(" "),s("p",[e._v("cluster:")]),e._v(" "),s("blockquote",[s("p",[e._v("Initial cluster configuration for bootstrapping."),s("br"),e._v('\nDefault: ""'),s("br"),e._v("\n- cluster must be set."),s("br"),e._v('\nExample: "devA=http://192.168.1.100:2380,devB=http://192.168.1.101:2380,devC=http://192.168.1.102:2380"'),s("br"),e._v('\n- "devA" is setting in name.'),s("br"),e._v("\nETCD server config: --initial-cluster 'default=http://192.168.1.100:2380'")])])])}],!1,null,null,null);n.options.__file="etcd_config.md";t.default=n.exports}}]);