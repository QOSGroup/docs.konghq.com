(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{166:function(e,t,i){"use strict";i.r(t);var s=i(0),r=Object(s.a)({},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[e._m(0),e._v(" "),i("p",[e._v("How to use Gomobile for library development for iOS and Android")]),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),i("p",[e._v("Let’s start with gomobile installation:")]),e._v(" "),e._m(4),i("p",[e._v("Note: in OS X you need to have installed Xcode Command Line Tools. Then you need to initialize gomobile, this can be done one time in any work directory.")]),e._v(" "),e._m(5),i("p",[e._v("Note: this command might take several minutes.")]),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),e._m(8),i("p",[e._v("Then you need to set environment variable:")]),e._v(" "),e._m(9),i("p",[e._v("So far the environment for the library development and building is ready.")]),e._v(" "),e._m(10),e._v(" "),i("p",[e._v("The same code can be used for the future compilation for Android and iOS. Building of such cross platform code has its own constraints. As for now we can use only certain set of data types. We need to take it into consideration when developing application in Go. Let’s review in more detail the supported types:")]),e._v(" "),e._m(11),e._v(" "),i("p",[e._v("So, if the type is not supported by gomobile bind command, you’ll see the similar error:")]),e._v(" "),e._m(12),i("p",[e._v("It’s obvious that the set of supported types is very limited, but this is enough for the SDK implementation.")]),e._v(" "),e._m(13),e._v(" "),i("p",[e._v("The source code is based on Golang and the repository for the project is "),i("a",{attrs:{href:"https://github.com/QOSGroup/qstars",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/QOSGroup/qstars"),i("OutboundLink")],1),e._v(".\nIt could be git cloned and downloaded to your local repo at first via:")]),e._v(" "),e._m(14),e._m(15),e._v(" "),e._m(16),e._v(" "),e._m(17),e._v(" "),i("p",[e._v("Gobind generates target language (Java, Objective-C or Swift) bindings for each exported symbol in a Go package.\nThe code is generated automatically and is packed by "),i("code",[e._v("gomobile bind")]),e._v(" command. More details you can find here "),i("a",{attrs:{href:"https://golang.org/x/mobile/cmd/gomobile",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://golang.org/x/mobile/cmd/gomobile"),i("OutboundLink")],1),e._v(".")]),e._v(" "),i("p",[e._v("Let’s start with flag -target that defines platform for generation. Here is an example for Android:")]),e._v(" "),e._m(18),e._m(19),e._v(" "),e._m(20),e._v(" "),i("p",[e._v("Note: In Java the name of the package for import always starts with go.")]),e._v(" "),i("p",[e._v("Similar command is used for building Objective-C/Swift code.")]),e._v(" "),e._m(21),e._m(22),e._v(" "),e._m(23),e._v(" "),e._m(24),i("p",[e._v("Note: Go allows you to build not only SDK but also to compile the application to apk/ipa file from main.go file only without native mobile Ul.")]),e._v(" "),i("p",[e._v("##Conclusion\nEverybody understands that separate commands development for every mobile platform – is not a cheap and easy task. But it is essential for creation a high-quality product at this time. Our task we did in terms of cross platform development and used all its advantages:")]),e._v(" "),e._m(25)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"sdk-development-for-ios-and-android"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sdk-development-for-ios-and-android","aria-hidden":"true"}},[this._v("#")]),this._v(" SDK development for iOS and Android")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"environment-prerequisites"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#environment-prerequisites","aria-hidden":"true"}},[this._v("#")]),this._v(" Environment prerequisites:")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",[i("li",[e._v("OSX")]),e._v(" "),i("li",[e._v("xcode")]),e._v(" "),i("li",[e._v("golang 1.5 +")]),e._v(" "),i("li",[e._v("Android SDK")]),e._v(" "),i("li",[e._v("Andorid NDK")]),e._v(" "),i("li",[e._v("JDK")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"gomobile-installation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gomobile-installation","aria-hidden":"true"}},[this._v("#")]),this._v(" Gomobile installation")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("go get -v golang.org/x/mobile/cmd/gomobile\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("gomobile init\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"android-sdk-environment-setting"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#android-sdk-environment-setting","aria-hidden":"true"}},[this._v("#")]),this._v(" Android SDK environment setting")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Download and unpack Android SDK to home directory, for example, "),t("code",[this._v("~/android-sdk")]),this._v(", and make the following command for API installation.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("~/android-sdk/tools/android sdk\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('export ANDROID_HOME=$HOME"/android-sdk"\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"shared-go-code-for-android-and-ios"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shared-go-code-for-android-and-ios","aria-hidden":"true"}},[this._v("#")]),this._v(" Shared GO-code for Android and iOS")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",[i("li",[e._v("int and float;")]),e._v(" "),i("li",[e._v("string and boolean;")]),e._v(" "),i("li",[e._v("[]byte")]),e._v(" "),i("li",[e._v("function has to return only supported types, it may not return the result, it may return one or two types wherein the second type should be an error;")]),e._v(" "),i("li",[e._v("interfaces could be used if they are exported to files of any supported type;")]),e._v(" "),i("li",[e._v("struct type, only in case all fields meet the constraints.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("panic: unsupported basic seqType: uint64\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"fetch-the-source-go-code-from-github-repository"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fetch-the-source-go-code-from-github-repository","aria-hidden":"true"}},[this._v("#")]),this._v(" Fetch the source Go code from Github repository")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("git clone https://github.com/QOSGroup/qstars.git\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("The source code is under the folder "),t("code",[this._v("qstars/stub/ios/")]),this._v(" with name of "),t("code",[this._v("starsdk.go")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Note: It is importtant to fetch the repository and corresponding packages this project, i.e. "),t("code",[this._v("qstars")]),this._v(" depends. Otherwise, the gomobile would encounter buid failure.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"building-and-import-to-java-objective-c-swift"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#building-and-import-to-java-objective-c-swift","aria-hidden":"true"}},[this._v("#")]),this._v(" Building and import to Java/Objective-C/Swift")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("gomobile bind --target=android .\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("This command will generate "),t("code",[this._v(".aar")]),this._v(" file from the current code. To import that file to Android Studio is pretty simple:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("File ➤New ➤New Module ➤Import .JAR or .AAR package")]),this._v(" "),t("li",[this._v("File ➤Project Structure ➤app ➤Dependencies ➤Add Module Dependency")]),this._v(" "),t("li",[this._v("Add import: import go.logpackermobilesdk.Logpackermobilesdk")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("gomobile bind --target=ios .\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("The folder "),t("code",[this._v(".framework")]),this._v(" will be created in the current repository.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("This works for both Objective-C and Swift. Transfer "),t("code",[this._v(".framework")]),this._v(" folder to Xcode’s file browser and add import to project:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('#import "Logpackermobilesdk/Logpackermobilesdk.h"\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("Minimal development resources.")]),this._v(" "),t("li",[this._v("High development speed.")]),this._v(" "),t("li",[this._v("Simple decision-support in the future.")])])}],!1,null,null,null);r.options.__file="introduction.md";t.default=r.exports}}]);