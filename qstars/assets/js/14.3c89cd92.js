(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{170:function(s,a,n){"use strict";n.r(a);var e=n(0),t=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"how-to-use-restful"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#how-to-use-restful","aria-hidden":"true"}},[s._v("#")]),s._v(" How to use restful")]),s._v(" "),n("h2",{attrs:{id:"错误码说明"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#错误码说明","aria-hidden":"true"}},[s._v("#")]),s._v(" 错误码说明")]),s._v(" "),n("p",[s._v("http 状态码一直为200\n业务是否正常根据返回结果json中error对象,具体错误原因详见错误吗")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("状态码")]),s._v(" "),n("th",{staticStyle:{"text-align":"center"}},[s._v("说明")])])]),s._v(" "),n("tbody",[n("tr",[n("td"),s._v(" "),n("td",{staticStyle:{"text-align":"center"}})]),s._v(" "),n("tr",[n("td"),s._v(" "),n("td",{staticStyle:{"text-align":"center"}})]),s._v(" "),n("tr",[n("td"),s._v(" "),n("td",{staticStyle:{"text-align":"center"}})])])]),s._v(" "),n("h2",{attrs:{id:"响应体格式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#响应体格式","aria-hidden":"true"}},[s._v("#")]),s._v(" 响应体格式")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n    "jsonrpc": "2.0",\n    "id": "",\n    "result": {},\n    "error": {\n        "code": 000,\n        "message": "错误信息",\n        "data": "错误详细描述"\n    }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h2",{attrs:{id:"start-restful-server"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#start-restful-server","aria-hidden":"true"}},[s._v("#")]),s._v(" Start restful server")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("./qstarscli rest-server\nI[10-09|07:26:56.410] Starting RPC HTTP server on tcp://localhost:1317 module=rest-server \nI[10-09|07:26:56.411] REST server started                          module=rest-server \nI[10-09|07:28:03.382] Served RPC HTTP response                     module=rest-server method=GET url=/accounts/cosmosaccaddr120ws5500u0q8q75k70uetqp2xnysus5t4x9ug9 status=200 duration=3 remoteAddr=127.0.0.1:38350\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"send-a-key-and-value"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#send-a-key-and-value","aria-hidden":"true"}},[s._v("#")]),s._v(" send a key and value:")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('curl -d "{\\"key\\":\\"1\\",\\"value\\":\\"3\\",\\"privatekey\\":\\"NQgkKn3vmPgxGut+k832nH6l0A1GDtLy8Nz6fMp6y6q2dbL7FVPkNw9PPcCsobEHJf9eDmC3zrG/iWn9qxLuvg\\",\\"chainid\\":\\"chainabc\\"}"  http://localhost:1317/kv\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("response")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n    "jsonrpc": "2.0",\n    "id": "",\n    "result": {\n        "hash":"D5C48EEA0FCBAB725062797F039636C9C743AE69",\n    }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h3",{attrs:{id:"get-a-key"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#get-a-key","aria-hidden":"true"}},[s._v("#")]),s._v(" get a key")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("curl http://localhost:1317/kv/1\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("response")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n    "jsonrpc": "2.0",\n    "id": "",\n    "result": {\n        "value":"3",\n    }\n}\n\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h3",{attrs:{id:"create-an-account"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#create-an-account","aria-hidden":"true"}},[s._v("#")]),s._v(" create an account")]),s._v(" "),n("p",[s._v("using '#' to seperate base64 privatekey publickey and address")]),s._v(" "),n("div",{staticClass:"language-$xslt line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('curl -d "" http://localhost:1317/accounts\n\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("response")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n    "jsonrpc": "2.0",\n    "id": "",\n    "result": {\n        "pub_key": "Sq+bVJeW6vxDMo73XGcxM8xU7Re36yuLObQyH8+dQkE=",\n        "priv_key": "Sq+bVJeW6vxDMo73XGcxM8xU7Re36yuLObQyH8+dQkE=",\n        "addr":"cosmosaccaddr120ws5500u0q8q75k70uetqp2xnysus5t4x9ug9",\n        "seed": "",\n    }\n}\n\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h3",{attrs:{id:"query-an-account"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#query-an-account","aria-hidden":"true"}},[s._v("#")]),s._v(" query an account")]),s._v(" "),n("p",[s._v("after account is the address of the account")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("curl http://localhost:1317/accounts/cosmosaccaddr120ws5500u0q8q75k70uetqp2xnysus5t4x9ug9\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("response")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n    "jsonrpc": "2.0",\n    "id": "",\n    "result": {\n        "QosAccount": {\n            "base_account": {\n                "account_address": "address13jgd8cvase3gk9zecrqykfjrl0lkahk8kkg3fp",\n                "public_key": {\n                    "type": "tendermint/PubKeyEd25519",\n                    "value": "5PkdAASMl7aDwngycV98nPI0G2XRmLuWaEYl3SWZBSE="\n                },\n                "nonce": "0"\n            },\n            "qos": "5380394853",\n            "qsc": [\n                {\n                    "coin_name": "QSC1",\n                    "amount": "1234"\n                },\n                {\n                    "coin_name": "QSC2",\n                    "amount": "5678"\n                }\n            ]\n        },\n        "QCoins": [\n            {\n                "denom": "QSC1",\n                 "amount": "1234"\n            },\n            {\n                "denom": "QSC2",\n                "amount": "5678"\n            }\n        ]\n    }\n}\n\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br")])]),n("h3",{attrs:{id:"do-a-transaction"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#do-a-transaction","aria-hidden":"true"}},[s._v("#")]),s._v(" do a transaction")]),s._v(" "),n("p",[s._v("privatekey in json is sender privatekey\nmount in json is coins\nthe last part of url is receiver publickey")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('curl -d "{\\"amount\\":\\"3QSC1\\",\\"privatekey\\":\\"GEPPkslt1Duwnb4B4W8OT1h311LYpo9GuJygHCE6mhH6iq1A17jIzMEzf6NiXUi6iGjDyoj9\\",\\"chain_id\\":\\"test-chain-AE4XQo\\",\\"account_number\\":\\"2\\",\\"sequence\\":\\"1\\",\\"gas\\":\\"1\\"}" http://localhost:1317/accounts/cosmosaccaddr120ws5500u0q8q75k70uetqp2xnysus5t4x9ug9/send\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("response")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n    "jsonrpc": "2.0",\n    "id": "",\n    "result": {\n        "hash":"CB13E9F042F3857DAA78E82BB594BA2366F2D256",\n    }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])])])}],!1,null,null,null);t.options.__file="qstarsclirestful.md";a.default=t.exports}}]);